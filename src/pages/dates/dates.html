<ion-header>
	<ion-navbar>
		<ion-icon name="menu" menuToggle left style="font-size: 30px;"></ion-icon>
		<ion-title>
			View
		</ion-title>
	</ion-navbar>
</ion-header>

<ion-content *ngIf="!isCalendarLoaded()" padding>
	
	<ion-row>
		<ion-col>
			<h3>Welcome to Dateroo</h3>
			<p>Need to organize availability of you, your 3D printer or anything else? Dateroo is for you!</p>
			<p>Usable on the web and your favourite phone</p>
		</ion-col>
	</ion-row>

	<ion-list>
		<ion-item>
			<ion-icon name="checkmark" color="green" item-start></ion-icon>
				<h2>Create your own calendar</h2>
		</ion-item>
		<ion-item>
			<ion-icon name="checkmark" color="green" item-start></ion-icon>
				<h2>Set up general and individual timeslots</h2>
		</ion-item>
		<ion-item>
			<ion-icon name="checkmark" color="green" item-start></ion-icon>
				<h2>Share the link or QR code</h2>
		</ion-item>
		<ion-item>
			<ion-icon name="checkmark" color="green" item-start></ion-icon>
				<h2>Never worry about organizing ever again</h2>
		</ion-item>
	</ion-list>
	
	<ion-row>
		<ion-col>
			<h3>Use the app</h3>
			<p>App for Android, iOS and Windows Phone coming soon!</p>
		</ion-col>
	</ion-row>
	
	<ion-row>
		<ion-col>
			<h3>Use the web</h3>
			<p>Create a new calendar or use an existing one</p>
			<button ion-button (click)="openCalendars()">Get started</button>
		</ion-col>
	</ion-row>
	
</ion-content>

<ion-content *ngIf="isCalendarLoaded()" padding>
	<ion-row>
		<ion-col>
		</ion-col>
		<ion-col>
			<h4>{{getFromDate()}} - {{getToDate()}}</h4>
		</ion-col>
		<ion-col>
		</ion-col>
	</ion-row>
	
	<p *ngIf="days.length == 0">No entries in this timeframe</p>

	<ion-list *ngFor="let day of days">
		<ion-list-header>
		  <h1>{{ day[0] }}</h1>
		</ion-list-header>

		<ion-item *ngFor="let entry of day[1] | async">
			<ion-note item-start>{{entry.from}} - {{entry.until}}</ion-note>
			<ion-note item-start *ngIf="entry.used">{{getPersonName(entry.person)}}</ion-note>
			<div *ngIf="entry.used">
				<h2 *ngIf="isAdmin()">{{entry.title}}</h2>
				<p *ngIf="isAdmin()">{{entry.description}}</p>
				<h2 *ngIf="!isAdmin()">Booked</h2>
			</div>
			<div *ngIf="entry.used == null">
				<h2>Free</h2>
				
			</div>
			<ion-note *ngIf="entry.used == null" item-end><button ion-button (click)="book(entry)">Book</button></ion-note>
		</ion-item>
	</ion-list>
	
	<ion-row>
		<ion-col>
			<button ion-button [disabled]="dayOffset <= 0" (click)="goBackward()">Back</button>
		</ion-col>
		<ion-col>
			<button ion-button (click)="goForward()">Next</button>
		</ion-col>
	</ion-row>
	
</ion-content>
